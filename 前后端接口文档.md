# 工程管理/api/project



## 获取工程列表/getAllProject



**简要描述：**

- 搜索/直接获取所有工程列表

**请求方式：**

- POST

```json
{
    "address": "地址",
    "contact": "联系人",
    "contactNo": "联系人电话",
    "name": "姓名"
}
```

**返回示例**

```
{
    "success": true,
    "code": 200,
    "message": "成功",
    "data": [
        {
            "id": "1323609827441434625",
            "name": "工厂流水线",
            "address": "江南路",
            "contact": "sst",
            "contactNo": null,
            "backgroundId": null,
            "createTime": "2020-11-03 20:55:49",
            "updateTime": "2020-11-03 20:59:36",
            "description": null
        },
        {
            "id": "1323615236600410114",
            "name": "中央空调",
            "address": "江南路",
            "contact": "sst",
            "contactNo": null,
            "backgroundId": null,
            "createTime": "2020-11-03 21:17:19",
            "updateTime": "2020-11-03 21:17:19",
            "description": null
        },
        {
            "id": "1323615254589779970",
            "name": "建筑布局",
            "address": "江南路",
            "contact": "sst",
            "contactNo": null,
            "backgroundId": null,
            "createTime": "2020-11-03 21:17:23",
            "updateTime": "2020-11-03 21:17:23",
            "description": null
        }
    ]
}
```



## 删除工程/deleteProject



**简要描述：**

- 删除某工程

**请求方式：**

- GET

**参数：**

| 参数名 | 必选 | 类型    | 说明         |
| :----- | :--- | :------ | ------------ |
| id     | True | String | 删除工程的id |

**返回示例**

```
{
    "success": true,
    "code": 200,
    "message": "成功",
    "data": true
}
```



## 新建工程/addProject



**简要描述：**

- 新建工程

**请求方式：**

- POST

**参数：**（name必须）

```json
{
    "name": "1号公寓水电处",
    "address": "江南路",
    "contact": "sst",
    "contactNo": 17854222888,
    "backgroundId": null,
    "description": "记录各节点水电计费数"
}
```

**返回示例**

```
{
    "success": true,
    "code": 200,
    "message": "成功",
    "data": {
        "id": "1331557139729301506",
        "name": "1号公寓水电处",
        "address": "江南路",
        "contact": "sst",
        "contactNo": "17854222888",
        "backgroundId": null,
        "createTime": "2020-11-25 19:15:35",
        "updateTime": "2020-11-25 19:15:35",
        "description": "记录各节点水电计费数"
    }
}
```




## 复制工程/copyProject



**简要描述：**

- 复制工程列表

**请求方式：**

- POST

**参数：**

| 参数名 | 必选 | 类型 | 说明   |
| :----- | :--- | :--- | ------ |
| id     |      | -    | 工程id |

**返回示例**

```
{ code:'200',message:'复制成功‘}
```



## 打开某一工程/getProject



**简要描述：**

- 打开某一项目

**请求方式：**

- GET

**参数：**

| 参数名 | 必选 | 类型 | 说明         |
| :----- | :--- | :--- | ------------ |
| id     | 必须 | string  | 工程项目的id |

**返回示例**

```json
{
    "success": true,
    "code": 200,
    "message": "成功",
    "data": {
        "layer": {
            "id": "1331599094089666562",
            "createTime": "2020-11-25 22:02:19",
            "updateTime": "2020-11-25 22:02:19",
            "name": "工程1",
            "width": 1920,
            "height": 1080,
            "backColor": "white",
            "description": "",
            "backgroundImage": "",
            "widthHeightRatio": "",
            "projectId": "1323615219261157377"
        },
        "components": [
            {
                "id": "1331598209250918402",
                "title": "graph",
                "type": "triangle",
                "style": {
                    "position": {
                        "x": 160.0,
                        "y": 143.0,
                        "w": 200,
                        "h": 200
                    },
                    "angle": 34.34,
                    "locked": false,
                    "borderColor": "#ccccccff",
                    "backColor": "transparent",
                    "foreColor": "transparent",
                    "borderWidth": 1,
                    "transform": 0,
                    "text": null,
                    "textAlign": null,
                    "fontSize": null,
                    "fontFamily": null,
                    "radius": 0.0,
                    "visible": true,
                    "identifier": "50db5abe-f116-4366-a217-b71c84423798",
                    "isWeight": null,
                    "isItalic": null,
                    "isUnderline": null,
                    "libraryitemId": null,
                    "min": null,
                    "max": null,
                    "waveColor": null,
                    "innerColor": null,
                    "dataTotal": null,
                    "splitNumber": null,
                    "zindex": null
                },
                "createTime": "2020-11-25 21:58:48",
                "updateTime": "2020-11-25 21:58:48",
                "identifier": "50db5abe-f116-4366-a217-b71c84423798",
                "name": "triangle0",
                "projectId": null
            },
            {
                "id": "1331598209259307009",
                "title": "graph",
                "type": "rect",
                "style": {
                    "position": {
                        "x": 438.0,
                        "y": 137.0,
                        "w": 200,
                        "h": 200
                    },
                    "angle": 34.34,
                    "locked": false,
                    "borderColor": "#ab4646ff",
                    "backColor": "transparent",
                    "foreColor": "transparent",
                    "borderWidth": 3,
                    "transform": 0,
                    "text": null,
                    "textAlign": null,
                    "fontSize": null,
                    "fontFamily": null,
                    "radius": 0.0,
                    "visible": true,
                    "identifier": "05c9d49c-1749-4971-9aaf-0b2d669880a0",
                    "isWeight": null,
                    "isItalic": null,
                    "isUnderline": null,
                    "libraryitemId": null,
                    "min": null,
                    "max": null,
                    "waveColor": null,
                    "innerColor": null,
                    "dataTotal": null,
                    "splitNumber": null,
                    "zindex": null
                },
                "createTime": "2020-11-25 21:58:48",
                "updateTime": "2020-11-25 21:58:48",
                "identifier": "05c9d49c-1749-4971-9aaf-0b2d669880a0",
                "name": "rect1",
                "projectId": null
            },
            {
                "id": "1331598209267695618",
                "title": "graph",
                "type": "circular",
                "style": {
                    "position": {
                        "x": 722.0,
                        "y": 132.0,
                        "w": 200,
                        "h": 200
                    },
                    "angle": 34.34,
                    "locked": false,
                    "borderColor": "#ccccccff",
                    "backColor": "transparent",
                    "foreColor": "rgb(214,73,73)",
                    "borderWidth": 1,
                    "transform": 0,
                    "text": null,
                    "textAlign": null,
                    "fontSize": null,
                    "fontFamily": null,
                    "radius": 0.0,
                    "visible": true,
                    "identifier": "eb74e2bf-2d45-4da7-9698-8bcab47cf6dd",
                    "isWeight": null,
                    "isItalic": null,
                    "isUnderline": null,
                    "libraryitemId": null,
                    "min": null,
                    "max": null,
                    "waveColor": null,
                    "innerColor": null,
                    "dataTotal": null,
                    "splitNumber": null,
                    "zindex": null
                },
                "createTime": "2020-11-25 21:58:48",
                "updateTime": "2020-11-25 21:58:48",
                "identifier": "eb74e2bf-2d45-4da7-9698-8bcab47cf6dd",
                "name": "circular2",
                "projectId": null
            },
            {
                "id": "1331598209276084225",
                "title": "graph",
                "type": "text",
                "style": {
                    "position": {
                        "x": 383.0,
                        "y": 425.0,
                        "w": 100,
                        "h": 30
                    },
                    "angle": 13.23,
                    "locked": false,
                    "borderColor": "#ccccccff",
                    "backColor": "transparent",
                    "foreColor": "#000000",
                    "borderWidth": 1,
                    "transform": 0,
                    "text": "Test12231",
                    "textAlign": "center",
                    "fontSize": 14,
                    "fontFamily": "Arial",
                    "radius": 0.0,
                    "visible": true,
                    "identifier": "0b8bf2a4-c5e3-1f24-a8c2-5c7f4c80070e",
                    "isWeight": true,
                    "isItalic": true,
                    "isUnderline": null,
                    "libraryitemId": null,
                    "min": null,
                    "max": null,
                    "waveColor": null,
                    "innerColor": null,
                    "dataTotal": null,
                    "splitNumber": null,
                    "zindex": null
                },
                "createTime": "2020-11-25 21:58:48",
                "updateTime": "2020-11-25 21:58:48",
                "identifier": "0b8bf2a4-c5e3-1f24-a8c2-5c7f4c80070e",
                "name": "text3",
                "projectId": null
            },
            {
                "id": "1331598228376944641",
                "title": "chart",
                "type": "liquidfill",
                "style": {
                    "position": {
                        "x": 383.0,
                        "y": 425.0,
                        "w": 100,
                        "h": 30
                    },
                    "angle": null,
                    "locked": false,
                    "borderColor": "#ccccccff",
                    "backColor": "transparent",
                    "foreColor": "#000000",
                    "borderWidth": 1,
                    "transform": 0,
                    "text": "Test12231",
                    "textAlign": null,
                    "fontSize": 14,
                    "fontFamily": "Arial",
                    "radius": null,
                    "visible": true,
                    "identifier": "0b8bf2a4-c5e3-1f24-a8c2-5c7f4c80070e",
                    "isWeight": null,
                    "isItalic": null,
                    "isUnderline": null,
                    "libraryitemId": null,
                    "min": null,
                    "max": null,
                    "waveColor": null,
                    "innerColor": null,
                    "dataTotal": null,
                    "splitNumber": null,
                    "zindex": null
                },
                "createTime": "2020-11-25 21:58:52",
                "updateTime": "2020-11-25 21:58:52",
                "identifier": "0b8bf2a4-c5e3-1f24-a8c2-5c7f4c80070e",
                "name": "text3",
                "projectId": null
            }
        ]
    }
}
```



## 保存某一工程/saveProject



**简要描述：**

- 保存某一项目

**请求方式：**

- POST

**参数：**

```json
{
    "id":"xxxx",
    "layer": {
        "id": null,
        "name": "工程1",
        "backColor": "white",
        "backgroundImage": "",
        "widthHeightRatio": "",
        "width": 1920,
        "height": 1080,
        "description": ""
    },
    "components": [
        {
            "id": null,
            "title": "graph",
            "type": "triangle",
            "style": {
                "position": {
                    "x": 160,
                    "y": 143,
                    "w": 200,
                    "h": 200
                },
                "backColor": "transparent",
                "foreColor": "transparent",
                "zIndex": 1,
                "transform": 0,
                "visible": true,
                "borderWidth": 1,
                "borderColor": "#ccccccff",
                "locked": false,
                "angle": 34.34
            },
            "identifier": "50db5abe-f116-4366-a217-b71c84423798",
            "name": "triangle0"
        },
        {
            "id": null,
            "title": "graph",
            "type": "rect",
            "style": {
                "position": {
                    "x": 438,
                    "y": 137,
                    "w": 200,
                    "h": 200
                },
                "backColor": "transparent",
                "foreColor": "transparent",
                "zIndex": 1,
                "transform": 0,
                "radius": 0,
                "visible": true,
                "borderWidth": 3,
                "borderColor": "#ab4646ff",
                "locked": false,
                "angle": 34.34
            },
            "insertTime": "",
            "identifier": "05c9d49c-1749-4971-9aaf-0b2d669880a0",
            "name": "rect1"
        },
        {
            "id": null,
            "title": "graph",
            "type": "circular",
            "style": {
                "position": {
                    "x": 722,
                    "y": 132,
                    "w": 200,
                    "h": 200
                },
                "backColor": "transparent",
                "foreColor": "rgb(214,73,73)",
                "zIndex": 1,
                "transform": 0,
                "visible": true,
                "borderWidth": 1,
                "borderColor": "#ccccccff",
                "locked": false,
                "angle": 34.34
            },
            "insertTime": "",
            "identifier": "eb74e2bf-2d45-4da7-9698-8bcab47cf6dd",
            "name": "circular2"
        },
        {
            "id": null,
            "title": "graph",
            "type": "text",
            "style": {
                "position": {
                    "x": 383,
                    "y": 425,
                    "w": 100,
                    "h": 30
                },
                "backColor": "transparent",
                "foreColor": "#000000",
                "zIndex": 1,
                "visible": true,
                "transform": 0,
                "text": "Test12231",
                "textAlign": "center",
                "fontSize": 14,
                "fontFamily": "Arial",
                "borderWidth": 1,
                "borderColor": "#ccccccff",
                "locked": false,
                "angle": 13.23,
                "isWeight": true,
                "isItalic": true,
                "isUnderLine": true
            },
            "insertTime": "",
            "identifier": "0b8bf2a4-c5e3-1f24-a8c2-5c7f4c80070e",
            "name": "text3"
        },
        {
            "id": null,
            "title": "chart",
            "type": "liquidfill",
            "style": {
                "position": {
                    "x": 383,
                    "y": 425,
                    "w": 100,
                    "h": 30
                },
                "backColor": "transparent",
                "foreColor": "#000000",
                "zIndex": 1,
                "visible": true,
                "transform": 0,
                "text": "Test12231",
                "textAlign": "center",
                "fontSize": 14,
                "fontFamily": "Arial",
                "borderWidth": 1,
                "borderColor": "#ccccccff",
                "locked": false,
                "angle": 13.23,
                "isWeight": true,
                "isItalic": true,
                "isUnderLine": true
            },
            "identifier": "0b8bf2a4-c5e3-1f24-a8c2-5c7f4c80070e",
            "name": "text3"
        }
    ]
}
```

**返回示例**

```
{   code:'200',message:'保存成功‘}
```



# 公共库管理/api/sharedlibrary



## 获取所有库名/getAllLibrary



**简要描述：**

- 获取所有库名 右侧列表

**请求方式：**

- GET

**参数：**

| 参数名 | 必选 | 类型 | 说明 |
| :----- | :--- | :--- | ---- |
| -      | -    | -    | -    |

**返回示例**

```
{
    "success": true,
    "code": 200,
    "message": "成功",
    "data": [
        {
            "id": "1330780268372598786",
            "createTime": "2020-11-23 15:48:35",
            "updateTime": "2020-11-23 15:48:35",
            "name": "库2"
        },
        {
            "id": "1330784382586417153",
            "createTime": "2020-11-23 16:04:56",
            "updateTime": "2020-11-23 16:04:56",
            "name": "测试库"
        },
        {
            "id": "1330784695930224642",
            "createTime": "2020-11-23 16:06:11",
            "updateTime": "2020-11-23 16:46:27",
            "name": "修改后库名"
        }
    ]
}
```



## 修改库名

**简要描述：**

- 修改某一库名

**请求方式：**

- GET/POST

**参数：**

| 参数名 | 必选 | 类型   | 说明   |
| :----- | :--- | :----- | ------ |
| id     | true | String | 库的id |
| name   | true | String | 库名   |

## 打开某一库/getLibrary



**简要描述：**

- 获取该库的所有组件

**请求方式：**

- GET

**参数：**

| 参数名 | 必选 | 类型   | 说明   |
| :----- | :--- | :----- | ------ |
| id     | true | String | 库的id |

**返回示例**

```
{
    "success": true,
    "code": 200,
    "message": "成功",
    "data": [
        {
            "id": "1333674178094792706",
            "createTime": "2020-12-01 15:27:57",
            "updateTime": "2020-12-01 15:27:57",
            "name": "QQ图片20190827193229.jpg",
            "libraryId": "1330780268372598786",
            "url": "http://localhost:8001/images/QQ图片20190827193229.jpg",
            "lujing": "/F:/gradproject/zutai_parent/service/service_project/target/classes/QQ图片20190827193229.jpg"
        },
        {
            "id": "1333678109118091265",
            "createTime": "2020-12-01 15:43:34",
            "updateTime": "2020-12-01 15:43:34",
            "name": "QQ图片20190827193229.jpg",
            "libraryId": "1330780268372598786",
            "url": "http://localhost:8001/images/QQ图片20190827193229.jpg",
            "lujing": "/F:/gradproject/zutai_parent/service/service_project/target/classes/QQ图片20190827193229.jpg"
        }
    ]
}
```

## 上传库组件/uploadFile



**简要描述：**

- 将svg、png等文件上传到某一库当中

**请求方式：**

- POST

**参数：**

| 参数名    | 必选 | 类型          | 说明       |
| :-------- | :--- | :------------ | ---------- |
| libraryId | true | String        | 库的id     |
| fileName  | true | MultipartFile | 上传的文件 |

**返回示例**

```json
{
    "success": true,
    "code": 200,
    "message": "成功",
    "data": "http://localhost:8001/images/e8d4294a4a0652bed5de7fc68ade76c3.jpg"
}
```

